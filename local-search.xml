<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>华硕AC1700安装hysteria2</title>
    <link href="/2024/12/02/%E5%8D%8E%E7%A1%95AC1700%E5%AE%89%E8%A3%85hysteria2/"/>
    <url>/2024/12/02/%E5%8D%8E%E7%A1%95AC1700%E5%AE%89%E8%A3%85hysteria2/</url>
    
    <content type="html"><![CDATA[<h1 id="安装-Hysteria2-服务端"><a href="#安装-Hysteria2-服务端" class="headerlink" title="安装 Hysteria2 服务端"></a>安装 Hysteria2 服务端</h1><h2 id="更新系统"><a href="#更新系统" class="headerlink" title="更新系统"></a>更新系统</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">apt update -<span class="hljs-attribute">y</span><br>apt install curl sudo -<span class="hljs-attribute">y</span><br></code></pre></td></tr></table></figure><h2 id="使用官方脚本安装"><a href="#使用官方脚本安装" class="headerlink" title="使用官方脚本安装"></a>使用官方脚本安装</h2><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">bash &lt;(<span class="hljs-name">curl</span> -fsSL https<span class="hljs-symbol">://get</span>.hy2.sh/)<br></code></pre></td></tr></table></figure><p>返回</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">Checking <span class="hljs-keyword">for</span> installed version ... v2.5.2<br>Checking <span class="hljs-keyword">for</span> latest version ... v2.6.0<br>Downloading hysteria binary: https://github.com/apernet/hysteria/releases/download/app/v2.6.0/hysteria-linux-amd64 ...<br>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current<br>                                 Dload  Upload   Total   Spent    Left  Speed<br>  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0<br>100 17.8M  100 17.8M    0     0  27.7M      0 --:--:-- --:--:-- --:--:--  110M<br>Installing hysteria executable ... ok<br>Install /etc/hysteria/config.yaml ... exists<br>Install /etc/systemd/system/hysteria-server.service ... ok<br>Install /etc/systemd/system/hysteria-server@.service ... ok<br>Restarting running service ...<br><br>Hysteria has been successfully update to v2.6.0.<br><br>Check out the latest changelog https://github.com/apernet/hysteria/blob/master/CHANGELOG.md<br></code></pre></td></tr></table></figure><h2 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h2><p>vi &#x2F;etc&#x2F;hysteria&#x2F;config.yaml 或 nano &#x2F;etc&#x2F;hysteria&#x2F;config.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">listen:</span> <span class="hljs-string">:8443</span><br><br><span class="hljs-comment">#acme:</span><br><span class="hljs-comment">#  domains:</span><br><span class="hljs-comment">#    - your.domain.net</span><br><span class="hljs-comment">#  email: your@email.com</span><br><br><span class="hljs-attr">auth:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">password</span><br>  <span class="hljs-attr">password:</span> <span class="hljs-string">ow123568</span><br><br><span class="hljs-attr">tls:</span><br>  <span class="hljs-attr">cert:</span> <span class="hljs-string">/root/cert/your.domain.cer</span><br>  <span class="hljs-attr">key:</span> <span class="hljs-string">/root/cert/your.domain.key</span><br><br><span class="hljs-attr">resolver:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">udp</span><br>  <span class="hljs-attr">tcp:</span><br>    <span class="hljs-attr">addr:</span> <span class="hljs-number">8.8</span><span class="hljs-number">.8</span><span class="hljs-number">.8</span><span class="hljs-string">:53</span><br>    <span class="hljs-attr">timeout:</span> <span class="hljs-string">4s</span><br>  <span class="hljs-attr">udp:</span><br>    <span class="hljs-attr">addr:</span> <span class="hljs-number">8.8</span><span class="hljs-number">.4</span><span class="hljs-number">.4</span><span class="hljs-string">:53</span><br>    <span class="hljs-attr">timeout:</span> <span class="hljs-string">4s</span><br>  <span class="hljs-attr">tls:</span><br>    <span class="hljs-attr">addr:</span> <span class="hljs-number">1.1</span><span class="hljs-number">.1</span><span class="hljs-number">.1</span><span class="hljs-string">:853</span><br>    <span class="hljs-attr">timeout:</span> <span class="hljs-string">10s</span><br>    <span class="hljs-attr">sni:</span> <span class="hljs-string">cloudflare-dns.com</span><br>    <span class="hljs-attr">insecure:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">https:</span><br>    <span class="hljs-attr">addr:</span> <span class="hljs-number">1.1</span><span class="hljs-number">.1</span><span class="hljs-number">.1</span><span class="hljs-string">:443</span><br>    <span class="hljs-attr">timeout:</span> <span class="hljs-string">10s</span><br>    <span class="hljs-attr">sni:</span> <span class="hljs-string">cloudflare-dns.com</span><br>    <span class="hljs-attr">insecure:</span> <span class="hljs-literal">false</span><br><br><span class="hljs-attr">masquerade:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">proxy</span><br>  <span class="hljs-attr">proxy:</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">https://your.domain.net/</span><br>    <span class="hljs-attr">rewriteHost:</span> <span class="hljs-literal">true</span><br><br></code></pre></td></tr></table></figure><h2 id="自动启动"><a href="#自动启动" class="headerlink" title="自动启动"></a>自动启动</h2><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-params">system</span>ctl start hysteria-server.service    <span class="hljs-comment"># 启动 hysteria 服务</span><br><span class="hljs-params">system</span>ctl enable hysteria-server.service   <span class="hljs-comment"># 设置 hysteria 服务 开机自启</span><br><span class="hljs-params">system</span>ctl daemon-reload<br><span class="hljs-params">system</span>ctl restart hysteria-server.service  <span class="hljs-comment"># 重启 hysteria 服务</span><br><span class="hljs-params">system</span>ctl stop hysteria-server.service     <span class="hljs-comment"># 停止 hysteria 服务</span><br><span class="hljs-params">system</span>ctl status hysteria-server.service   <span class="hljs-comment"># 查看 hysteria 服务 状态</span><br></code></pre></td></tr></table></figure><h2 id="报错无法启动"><a href="#报错无法启动" class="headerlink" title="报错无法启动"></a>报错无法启动</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-built_in">Warning</span>: The unit file, source <span class="hljs-keyword">configuration</span> file <span class="hljs-keyword">or</span> <span class="hljs-keyword">drop</span>-ins <span class="hljs-keyword">of</span> hysteria-<span class="hljs-keyword">server</span>.service changed <span class="hljs-keyword">on</span> disk. Run <span class="hljs-string">&#x27;systemctl daemon-reload&#x27;</span> <span class="hljs-keyword">to</span> r&gt;<br>● hysteria-<span class="hljs-keyword">server</span>.service - Hysteria <span class="hljs-keyword">Server</span> Service (config.yaml)<br>     Loaded: loaded (/etc/systemd/<span class="hljs-keyword">system</span>/hysteria-<span class="hljs-keyword">server</span>.service; disabled; vendor preset: enabled)<br>     Active: failed (Result: <span class="hljs-keyword">exit</span>-code) since Tue <span class="hljs-number">2024</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">08</span>:<span class="hljs-number">22</span>:<span class="hljs-number">48</span> CET; <span class="hljs-number">3</span>min <span class="hljs-number">8</span>s ago<br>    Process: <span class="hljs-number">3524291</span> ExecStart=/usr/<span class="hljs-keyword">local</span>/bin/hysteria <span class="hljs-keyword">server</span> <span class="hljs-comment">--config /etc/hysteria/config.yaml (code=exited, status=1/FAILURE)</span><br>   Main PID: <span class="hljs-number">3524291</span> (code=exited, status=<span class="hljs-number">1</span>/FAILURE)<br><br><span class="hljs-type">Dec</span> <span class="hljs-number">03</span> <span class="hljs-number">08</span>:<span class="hljs-number">22</span>:<span class="hljs-number">47</span> vps32456491.hosteons.com systemd[<span class="hljs-number">1</span>]: Started Hysteria <span class="hljs-keyword">Server</span> Service (config.yaml).<br><span class="hljs-type">Dec</span> <span class="hljs-number">03</span> <span class="hljs-number">08</span>:<span class="hljs-number">22</span>:<span class="hljs-number">48</span> vps32456491.hosteons.com hysteria[<span class="hljs-number">3524291</span>]: <span class="hljs-number">2024</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>T08:<span class="hljs-number">22</span>:<span class="hljs-number">48</span>+<span class="hljs-number">01</span>:<span class="hljs-number">00</span>        <span class="hljs-keyword">INFO</span>        <span class="hljs-keyword">server</span> mode<br><span class="hljs-type">Dec</span> <span class="hljs-number">03</span> <span class="hljs-number">08</span>:<span class="hljs-number">22</span>:<span class="hljs-number">48</span> vps32456491.hosteons.com hysteria[<span class="hljs-number">3524291</span>]: <span class="hljs-number">2024</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>T08:<span class="hljs-number">22</span>:<span class="hljs-number">48</span>+<span class="hljs-number">01</span>:<span class="hljs-number">00</span>        FATAL        failed <span class="hljs-keyword">to</span> <span class="hljs-keyword">load</span> <span class="hljs-keyword">server</span> config      &gt;<br><span class="hljs-type">Dec</span> <span class="hljs-number">03</span> <span class="hljs-number">08</span>:<span class="hljs-number">22</span>:<span class="hljs-number">48</span> vps32456491.hosteons.com systemd[<span class="hljs-number">1</span>]: hysteria-<span class="hljs-keyword">server</span>.service: Main process exited, code=exited, status=<span class="hljs-number">1</span>/FAILURE<br><span class="hljs-type">Dec</span> <span class="hljs-number">03</span> <span class="hljs-number">08</span>:<span class="hljs-number">22</span>:<span class="hljs-number">48</span> vps32456491.hosteons.com systemd[<span class="hljs-number">1</span>]: hysteria-<span class="hljs-keyword">server</span>.service: Failed <span class="hljs-keyword">with</span> result <span class="hljs-string">&#x27;exit-code&#x27;</span>.<br></code></pre></td></tr></table></figure><p>执行</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">sed -i <span class="hljs-string">&#x27;/User=/d&#x27;</span> <span class="hljs-regexp">/etc/</span>systemd<span class="hljs-regexp">/system/</span>hysteria-server.service<br>sed -i <span class="hljs-string">&#x27;/User=/d&#x27;</span> <span class="hljs-regexp">/etc/</span>systemd<span class="hljs-regexp">/system/</span>hysteria-server@.service<br></code></pre></td></tr></table></figure><h2 id="检测是否启动进程"><a href="#检测是否启动进程" class="headerlink" title="检测是否启动进程"></a>检测是否启动进程</h2><p>netstat -nlp | grep 8443</p><h2 id="sing-box配置"><a href="#sing-box配置" class="headerlink" title="sing-box配置"></a>sing-box配置</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;log&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;level&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;dns&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;servers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;google&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tls://dns.google&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;address_resolver&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;resolver&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;strategy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ipv4_only&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;detour&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;select&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tencent&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tls://dot.pub&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;address_resolver&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;resolver&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;strategy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ipv4_only&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;detour&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;direct&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;resolver&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;223.5.5.5&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;strategy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ipv4_only&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;detour&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;direct&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;rules&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;outbound&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;any&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;server&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tencent&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;clash_mode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;direct&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;server&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tencent&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;clash_mode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;global&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;server&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;google&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;final&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;google&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;inbounds&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tun&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tun-in&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;auto_route&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;sniff&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;inet4_address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;172.19.0.1/30&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;inet6_address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;fdfe:dcba:9876::1/126&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;outbounds&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;selector&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;select&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;outbounds&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-string">&quot;proxy&quot;</span><br>      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;default&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;proxy&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;interrupt_exist_connections&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hysteria2&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;proxy&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;server&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;your.domain.net&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;server_port&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8443</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;up_mbps&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;down_mbps&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;password&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;password&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;tls&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;enabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;server_name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;your.domain.net&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;insecure&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;direct&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;direct&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;block&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;block&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dns&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;tag&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dns-out&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;route&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;rules&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;protocol&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dns&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;outbound&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dns-out&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;clash_mode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;global&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;outbound&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;select&quot;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;auto_detect_interface&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="下载Hysteria客户端文件linux版本"><a href="#下载Hysteria客户端文件linux版本" class="headerlink" title="下载Hysteria客户端文件linux版本"></a>下载Hysteria客户端文件linux版本</h2><p><a href="https://github.com/apernet/hysteria/releases">https://github.com/apernet/hysteria/releases</a><br>此处因为AC1700为armv5，所以下载hysteria-linux-armv5<br><a href="https://github.com/apernet/hysteria/releases/download/app%2Fv2.6.0/hysteria-linux-armv5">https://github.com/apernet/hysteria/releases/download/app%2Fv2.6.0/hysteria-linux-armv5</a><br>截至2024年12月，最新版本为2.6.0，大约16.8MB，意味着jffs分区要不小于17MB。<br>下载到&#x2F;jffs&#x2F;hy2目录</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span> <span class="hljs-string">your.domain.net:8443</span><br><span class="hljs-attr">auth:</span> <span class="hljs-string">password</span><br><br><span class="hljs-attr">tls:</span><br>  <span class="hljs-attr">sni:</span> <span class="hljs-string">your.domain.net</span><br>  <span class="hljs-attr">insecure:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-attr">socks5:</span><br>  <span class="hljs-attr">listen:</span> <span class="hljs-string">:7893</span><br><br><span class="hljs-comment">#http:</span><br><span class="hljs-comment">#  listen: 127.0.0.1:7895</span><br><span class="hljs-comment">#tcpTProxy:</span><br><span class="hljs-comment">#  listen: :2500</span><br><br><span class="hljs-comment">#tcpRedirect:</span><br><span class="hljs-comment">#  listen: :7892</span><br><br><span class="hljs-comment">#udpTProxy:</span><br><span class="hljs-comment">#  listen: :2500</span><br><span class="hljs-comment">#  timeout: 20s</span><br><br><span class="hljs-attr">resolver:</span><br>  <span class="hljs-attr">type:</span> <span class="hljs-string">udp</span><br>  <span class="hljs-attr">udp:</span><br>    <span class="hljs-attr">addr:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.50</span><span class="hljs-number">.1</span><span class="hljs-string">:5388</span> <span class="hljs-comment">#DNS IP</span><br>    <span class="hljs-attr">timeout:</span> <span class="hljs-string">4s</span><br></code></pre></td></tr></table></figure><h2 id="测试运行"><a href="#测试运行" class="headerlink" title="测试运行"></a>测试运行</h2><p>cd &#x2F;jffs&#x2F;hy2<br>.&#x2F;hysteria client -c &#x2F;jffs&#x2F;hy2&#x2F;config.yaml –log-level debug</p><h2 id="后台运行"><a href="#后台运行" class="headerlink" title="后台运行"></a>后台运行</h2><p>nohup &#x2F;jffs&#x2F;hy2&#x2F;hysteria &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;<br>netstat -nlp | grep 7893</p><h2 id="配置到Clash中"><a href="#配置到Clash中" class="headerlink" title="配置到Clash中"></a>配置到Clash中</h2><p>在这篇文章里，<a href="/2024/12/02/%E5%8D%8E%E7%A1%95RT-ACRH17%E8%B7%AF%E7%94%B1%E5%99%A8%E9%85%8D%E7%BD%AE/#%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE">华硕RT-ACRH17路由器配置</a></p><p>proxies加入hy2的节点，内部走sock5</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">proxies</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;hy2&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">socks5</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-string">&quot;7893&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>华硕RT-ACRH17路由器配置</title>
    <link href="/2024/12/02/%E5%8D%8E%E7%A1%95RT-ACRH17%E8%B7%AF%E7%94%B1%E5%99%A8%E9%85%8D%E7%BD%AE/"/>
    <url>/2024/12/02/%E5%8D%8E%E7%A1%95RT-ACRH17%E8%B7%AF%E7%94%B1%E5%99%A8%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><p>已安装梅林固件</p><h2 id="检查内核"><a href="#检查内核" class="headerlink" title="检查内核"></a>检查内核</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> /proc/cpuinfo | grep ARM<br></code></pre></td></tr></table></figure><p>返回 model name : ARMv7 Processor rev 5 (v7l)，虽然查看的 cpu 信息是 ARMv7 但是 clash 还是只能运行 armv5 的</p><h2 id="老版本备份下载"><a href="#老版本备份下载" class="headerlink" title="老版本备份下载"></a>老版本备份下载</h2><p>下载地址：<a href="https://img.xfiled.one/blog/clash-linux-armv5-v1.10.0.gz">https://img.xfiled.one/blog/clash-linux-armv5-v1.10.0.gz</a></p><h2 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /jffs<br><span class="hljs-built_in">mkdir</span> clash<br><span class="hljs-built_in">cd</span> clash<br>wget https://img.xfiled.one/blog/clash-linux-armv5-v1.10.0.gz<br>gzip -d clash-linux-armv5-v1.10.0.gz<br></code></pre></td></tr></table></figure><h2 id="下载-Country-mmdb"><a href="#下载-Country-mmdb" class="headerlink" title="下载 Country.mmdb"></a>下载 Country.mmdb</h2><p><a href="https://github.com/Dreamacro/maxmind-geoip/releases/latest">https://github.com/Dreamacro/maxmind-geoip/releases/latest</a><br>把下载的Country.mmdb放在clash文件同级目录</p><h2 id="添加配置"><a href="#添加配置" class="headerlink" title="添加配置"></a>添加配置</h2><p>完整 config.yaml 例子<br><a href="https://img.xfiled.one/blog/config_example.yaml">https://img.xfiled.one/blog/config_example.yaml</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">port:</span> <span class="hljs-number">7890</span><br><span class="hljs-attr">socks-port:</span> <span class="hljs-number">1888</span> <span class="hljs-comment"># SOCKS5代理端口，DNS请求会中转</span><br><span class="hljs-attr">redir-port:</span> <span class="hljs-number">7892</span> <span class="hljs-comment"># 透明代理端口</span><br><span class="hljs-attr">allow-lan:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">mode:</span> <span class="hljs-string">Rule</span><br><span class="hljs-attr">log-level:</span> <span class="hljs-string">info</span> <span class="hljs-comment"># 日志显示级别： debug-问题调试，info-基本信息</span><br><span class="hljs-attr">external-controller:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:9090</span><br><span class="hljs-attr">secret:</span> <span class="hljs-string">route</span><br><span class="hljs-attr">hosts:</span><br>  <span class="hljs-attr">router.asus.com:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.50</span><span class="hljs-number">.1</span> <span class="hljs-comment">#替换自己本地路由IP</span><br><span class="hljs-comment"># 透明代理开启DNS</span><br><span class="hljs-attr">dns:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">ipv6:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">listen:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:5388</span><br>  <span class="hljs-attr">enhanced-mode:</span> <span class="hljs-string">fake-ip</span><br>  <span class="hljs-comment">#enhanced-mode: redir-host</span><br>  <span class="hljs-attr">nameserver:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">119.29</span><span class="hljs-number">.29</span><span class="hljs-number">.29</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://dns.rubyfish.cn:853</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">223.5</span><span class="hljs-number">.5</span><span class="hljs-number">.5</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">114.114</span><span class="hljs-number">.114</span><span class="hljs-number">.114</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">223.6</span><span class="hljs-number">.6</span><span class="hljs-number">.6</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">8.8</span><span class="hljs-number">.8</span><span class="hljs-number">.8</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">208.67</span><span class="hljs-number">.220</span><span class="hljs-number">.220</span>    <br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://223.5.5.5/dns-query</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://doh.pub/dns-query</span><br>  <span class="hljs-attr">fallback:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://162.159.36.1/dns-query</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://dns.google/dns-query</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://8.8.8.8:853</span><br><span class="hljs-attr">proxies:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;sc5&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">socks5</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-string">&quot;7893&quot;</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;sc5_2&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">socks5</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-string">&quot;7894&quot;</span><br><span class="hljs-attr">proxy-groups:</span><br>  <span class="hljs-bullet">-</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;🍃 Proxies&#x27;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">select</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;⭐️ Auto&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;sc5&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;sc5_2&quot;</span><br>  <span class="hljs-bullet">-</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;🍂 Domestic&#x27;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">select</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">AdBlock</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">select</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">REJECT</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;🍃 Proxies&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">DIRECT</span><br>  <span class="hljs-bullet">-</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;☁️ Others&#x27;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">select</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;🍃 Proxies&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">DIRECT</span><br>  <span class="hljs-bullet">-</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;⭐️ Auto&#x27;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">url-test</span><br>    <span class="hljs-attr">proxies:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;sc5&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;sc5_2&quot;</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">&#x27;http://www.gstatic.com/generate_204&#x27;</span><br>    <span class="hljs-attr">interval:</span> <span class="hljs-string">&#x27;28800&#x27;</span><br><br><br><span class="hljs-attr">rules:</span><br><br><span class="hljs-comment"># AD Banned 添加自己需要屏蔽的域名</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,adtng.com,AdBlock</span><br><br><span class="hljs-comment"># &gt; ABC</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,go.com,🍃</span> <span class="hljs-string">Proxies</span><br><br><span class="hljs-comment"># &gt; Bilibili</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-KEYWORD,bilibili,🍂</span> <span class="hljs-string">Domestic</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,linkedin.com,☁️</span> <span class="hljs-string">Others</span><br><br><span class="hljs-comment"># Local Area Network</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-KEYWORD,announce,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-KEYWORD,torrent,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-KEYWORD,tracker,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,smtp,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,local,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,192.168.0.0/16,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,10.0.0.0/8,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,172.16.0.0/12,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,127.0.0.0/8,DIRECT</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,100.64.0.0/10,DIRECT</span><br><span class="hljs-comment"># GeoIP China</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">GEOIP,CN,🍂</span> <span class="hljs-string">Domestic</span><br><br><span class="hljs-bullet">-</span> <span class="hljs-string">MATCH,☁️</span> <span class="hljs-string">Others</span><br></code></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /jffs/clash<br>./clash -d .<br></code></pre></td></tr></table></figure><h2 id="配置路由表"><a href="#配置路由表" class="headerlink" title="配置路由表"></a>配置路由表</h2><p>开启透明代理<br>vi iptables.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">iptables -t nat -N Clash<br>iptables -t nat -A Clash -d 192.168.0.0/16 -j RETURN<br>iptables -t nat -A Clash -p tcp -j REDIRECT --to-ports 7892<br>iptables -t nat -A PREROUTING ! -p udp -j Clash<br>iptables -t nat -A PREROUTING -p udp -m udp --dport 53 -j DNAT --to-destination 192.168.50.1:5388 <span class="hljs-comment">#5388对应配置中dns的端口</span><br></code></pre></td></tr></table></figure><h2 id="Clash自动启动auto-sh"><a href="#Clash自动启动auto-sh" class="headerlink" title="Clash自动启动auto.sh"></a>Clash自动启动auto.sh</h2><p>新建auto.sh文件，执行chmod +x auto.sh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#(killall clash || echo) &gt; /dev/null 2&gt;&amp;1 #如果需要清理进程</span><br>start-stop-daemon -S -b -x /jffs/clash/clash -m -p /tmp/clash.pid -- -d /jffs/clash/<br></code></pre></td></tr></table></figure><p>执行auto.sh后检查端口运行情况</p><h2 id="修改路由器自动启动脚本"><a href="#修改路由器自动启动脚本" class="headerlink" title="修改路由器自动启动脚本"></a>修改路由器自动启动脚本</h2><p>cd &#x2F;jffs&#x2F;scripts<br>vi wan-start</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/sh</span><br>/bin/sh /jffs/clash/auto.sh<br><span class="hljs-comment">#/bin/sh /jffs/clash/iptables.sh</span><br><span class="hljs-comment">#cru a lightsoff &quot;0 18 * * * /jffs/clash/ledoff.sh&quot;</span><br><span class="hljs-comment">#cru a lightson &quot;0 6 * * * /jffs/clash/ledon.sh&quot;</span><br>cru a setiptable <span class="hljs-string">&quot;*/3 * * * * /jffs/clash/iptables.sh&quot;</span><br></code></pre></td></tr></table></figure><h2 id="查看路由器jffs大小情况"><a href="#查看路由器jffs大小情况" class="headerlink" title="查看路由器jffs大小情况"></a>查看路由器jffs大小情况</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">df</span> -h<br>/dev/ubi0_5              15.0M      9.5M      5.5M  63% /jffs<br></code></pre></td></tr></table></figure><p>默认路由分配的&#x2F;jffs空间较小，如果需要扩展jffs可以插入U盘，把jffs分区转移到U盘上<br>记住jffs原始对应的分区路径，&#x2F;dev&#x2F;ubi0_5</p><h2 id="先备份jffs到U盘-重要"><a href="#先备份jffs到U盘-重要" class="headerlink" title="先备份jffs到U盘(重要)"></a>先备份jffs到U盘(重要)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 先关闭skipd和httpdb进程</span><br>killall skipd<br><span class="hljs-comment"># 备份jffs</span><br><span class="hljs-built_in">cp</span> -a /jffs/ /tmp/mnt/DISK_IMG/jffs<br></code></pre></td></tr></table></figure><h2 id="转移jffs分区到U盘"><a href="#转移jffs分区到U盘" class="headerlink" title="转移jffs分区到U盘"></a>转移jffs分区到U盘</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 卸载原jffs分区</span><br>umount -l /jffs<br><span class="hljs-comment"># 用刚才创建的文件夹文件夹替换/jffs</span><br>mount -o rbind /tmp/mnt/DISK_IMG/jffs /jffs<br><span class="hljs-comment"># 重启软件中心相关进程</span><br>service restart_skipd<br></code></pre></td></tr></table></figure><h2 id="还原路由器原始jffs"><a href="#还原路由器原始jffs" class="headerlink" title="还原路由器原始jffs"></a>还原路由器原始jffs</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 卸载U盘jffs分区</span><br>umount -l /jffs<br><span class="hljs-comment"># 绑定原路由器分区</span><br>mount -t ubifs /dev/ubi0_5 /jffs<br></code></pre></td></tr></table></figure><h2 id="安装hysteria"><a href="#安装hysteria" class="headerlink" title="安装hysteria"></a>安装hysteria</h2><p>扩展了jffs分区之后才可以安装hysteria，要不然空间不足</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>开源许可协议对比MIT和ISC</title>
    <link href="/2024/10/25/%E5%BC%80%E6%BA%90%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%AF%94MIT%E5%92%8CISC/"/>
    <url>/2024/10/25/%E5%BC%80%E6%BA%90%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%AF%94MIT%E5%92%8CISC/</url>
    
    <content type="html"><![CDATA[<h1 id="开源许可协议对比"><a href="#开源许可协议对比" class="headerlink" title="开源许可协议对比"></a>开源许可协议对比</h1><img src="https://img.xfiled.one/blog/gnu.svg" width="300px"><table><thead><tr><th align="center">许可名称</th><th>权利</th><th>发起组织</th><th>义务或要求</th><th>典型软件</th></tr></thead><tbody><tr><td align="center">MIT</td><td>无限制的使用、复制、修改和发布权限</td><td>麻省理工</td><td>在软件和软件的所有副本中都必须包含以上著作权声明和本许可声明</td><td>React.js, Node.js</td></tr><tr><td align="center">ISC</td><td>和BSD 2-Clause一样，任何人可以免费地获取、使用、复制、修改和分发该项目的源代码</td><td>Internet Systems Consortium</td><td>伴随每个副本一份本许可声明，在分发时保留原始的许可声明，并且不对用户提供任何担保，也不承担因使用软件产生的责任。</td><td>NPM&#x2F;react-timer-hook</td></tr><tr><td align="center">BSD 2-Clause</td><td>允许重复使用代码，需在源代码和二进制分发中保留版权声明</td><td>Berkeley</td><td></td><td>OpenBSD</td></tr><tr><td align="center">BSD 3-Clause</td><td>类似 BSD 2-Clause</td><td>Berkeley</td><td>需在产品销售时提供相关文档，不授予商标权利</td><td>LLVM编译器</td></tr><tr><td align="center">Apache-2.0</td><td>要求保留版权和许可声明。贡献者明确授予专利权。许可的作品，修改和更大的作品能够以不同的许可协议分发，并且可以不提供源代码。</td><td>Apache软件基金会</td><td>不授予商标权</td><td>Apache Kafka</td></tr><tr><td align="center">GPL</td><td>代码的开源&#x2F;免费使用和引用&#x2F;修改&#x2F;衍生代码的开源&#x2F;免费使用</td><td>自由软件基金会</td><td>不允许修改后和衍生的代码做为闭源的商业软件发布和销售</td><td>Linux</td></tr></tbody></table><h3 id="BSD-2-Clause"><a href="#BSD-2-Clause" class="headerlink" title="BSD 2-Clause"></a>BSD 2-Clause</h3><blockquote><p>1 . 如果再发布的产品中包含源代码，则在源代码中必须带有原来代码中的BSD协议；<br>2 . 如果再发布的只是二进制类库&#x2F;软件，则需要在类库&#x2F;软件的文档那个和版权声明中包含原来代码中的BSD协议；    </p></blockquote><h3 id="BSD-3-Clause"><a href="#BSD-3-Clause" class="headerlink" title="BSD 3-Clause"></a>BSD 3-Clause</h3><blockquote><p>3 . 不可以用开源代码的“作者&#x2F;机构的名字”或“原来产品的名字”做市场推广。</p></blockquote><h3 id="ISC许可协议的样版"><a href="#ISC许可协议的样版" class="headerlink" title="ISC许可协议的样版"></a>ISC许可协议的样版</h3><pre><code>Copyright (c) 4-digit year, Company or Person&#39;s Name &lt;E-mail address&gt;Permission to use, copy, modify, and distribute this software for anypurpose with or without fee is hereby granted, provided that the abovecopyright notice and this permission notice appear in all copies.THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIESWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OFMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FORANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGESWHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN ANACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OFOR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</code></pre><h3 id="MIT许可协议的样版"><a href="#MIT许可协议的样版" class="headerlink" title="MIT许可协议的样版"></a>MIT许可协议的样版</h3><pre><code>MIT LicenseCopyright (c) [year] [fullname]Permission is hereby granted, free of charge, to any person obtaining a copyof this software and associated documentation files (the &quot;Software&quot;), to dealin the Software without restriction, including without limitation the rightsto use, copy, modify, merge, publish, distribute, sublicense, and/or sellcopies of the Software, and to permit persons to whom the Software isfurnished to do so, subject to the following conditions:The above copyright notice and this permission notice shall be included in allcopies or substantial portions of the Software.THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS ORIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THEAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHERLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THESOFTWARE.</code></pre><h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="https://choosealicense.rustwiki.org/licenses/mit/" title="MIT">MIT许可</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>镁锌铁钾钠维D</title>
    <link href="/2024/10/25/%E9%95%81%E9%94%8C%E9%93%81%E9%92%BE%E9%92%A0%E7%BB%B4D/"/>
    <url>/2024/10/25/%E9%95%81%E9%94%8C%E9%93%81%E9%92%BE%E9%92%A0%E7%BB%B4D/</url>
    
    <content type="html"><![CDATA[<p><img src="https://img.xfiled.one/blog/avocado.svg" alt="Avocado"></p><h3 id="生活小技巧"><a href="#生活小技巧" class="headerlink" title="生活小技巧"></a>生活小技巧</h3><table><thead><tr><th align="center">问题</th><th>元素</th><th>吃什么</th></tr></thead><tbody><tr><td align="center">无法睡觉</td><td>Magnesium镁</td><td>可以吃牛油果Avocado</td></tr><tr><td align="center">能量低</td><td>Iron铁</td><td>吃一些葡萄干Raisins</td></tr><tr><td align="center">感觉虚弱</td><td>Zinc锌</td><td>吃一些黑巧克力Dark chocolate</td></tr><tr><td align="center">经常感觉累</td><td>Patassium钾</td><td>喝一些椰子水Coconut water</td></tr><tr><td align="center">头疼</td><td>Sodium钠</td><td>粉色喜马拉雅盐水Drink some water with Pink Himalayan Salt</td></tr><tr><td align="center">感到悲伤</td><td>Vitamin D维D</td><td>晒晒太阳Get some sunlight</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>health</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>日本央行利率变化</title>
    <link href="/2024/10/18/%E6%97%A5%E6%9C%AC%E5%A4%AE%E8%A1%8C%E5%88%A9%E7%8E%87%E5%8F%98%E5%8C%96/"/>
    <url>/2024/10/18/%E6%97%A5%E6%9C%AC%E5%A4%AE%E8%A1%8C%E5%88%A9%E7%8E%87%E5%8F%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><ul><li>1945年8月14日 日本投降，二战结束</li><li>1947年7月 马歇尔计划（The Marshall Plan）启动，大致4年</li><li>1985年9月22日 广场协议（Plaza Accord），美日英法德</li><li>1986年，国际油价曾经跌到每桶15美元</li><li>1989年底，日本政府开始主动挤房地产泡沫</li><li>1990年8月，波斯湾战争</li><li>2001年，日本持续20年的货币宽松政策，直到2021年</li><li>2019年12月31日～2021年1月，新冠疫情</li><li>2021年7月23日至8月8日，东京奥运会</li><li>2022年12月7日，中国全面放开疫情管控</li><li>2022年2月24日，俄乌冲突全面爆发</li></ul><h3 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h3><h4 id="“失去的三十年”指的是日本经济增速低迷的平成时代（1989年—2019年）"><a href="#“失去的三十年”指的是日本经济增速低迷的平成时代（1989年—2019年）" class="headerlink" title="“失去的三十年”指的是日本经济增速低迷的平成时代（1989年—2019年）"></a>“失去的三十年”指的是日本经济增速低迷的平成时代（1989年—2019年）</h4><ul><li>1980年 9%</li><li>1985年 5%</li><li>1986年 4.5%</li><li>1987年3月1日 2.5%</li><li>1989年5月1日 3.25%，中国央行利率，2024年9月20日 3.35%<blockquote><p>泡沫时期的日本国民、企业及政府均忘记了：所有商品的价格都是由供需关系来决定的基本经济定律</p></blockquote></li><li>1990年11月1日 6%</li><li>1991年 5%</li><li>1992年 4.5%</li><li>1992年12月4日 3.75%</li><li>1993年 2.5%</li><li>1994年 1.75%</li><li>1995年 1%</li><li>1996年 0.5%</li><li>1998年 0.25%</li><li>1999年 0%</li><li>2007年3月1日-2008年10月1日 0.5%</li><li>1999年-2024年 基本维持在0%-0.25%间</li></ul><p>1975-2024年，央行利率最高时为9%，最低时为-0.1%<br><img src="https://cdn.xhashao.top/blog/usjp.png" alt="日本美国央行利率对比"><br>图表：<a href="https://zh.tradingeconomics.com/japan/interest-rate">https://zh.tradingeconomics.com/japan/interest-rate</a></p><p>2013年10月25日 5.71%～2024年9月20日 3.35%，可能会在未来5年继续降息<br><img src="https://cdn.xhashao.top/blog/jpcn.png" alt="日本中国央行利率对比"><br>图表：<a href="https://zh.tradingeconomics.com/china/interest-rate">https://zh.tradingeconomics.com/china/interest-rate</a></p><blockquote><p>银行，是金融系统性风险的守门员。</p></blockquote><p>低利率带来哪些影响：</p><ul><li>1.激发市场有效需求；</li><li>2.利差，容易引发资金外逃的风险；</li><li>3.下调利率是一把双刃剑，用得好自然市场买账，投资消费上涨；用得不好，市场不买单，存款继续增长，投资不见起色，还会倒逼更多人把资产往值钱的地方转移；</li><li>4.大多数家庭和企业都为了偿还债务做出了不懈的努力；</li><li>5.消费者为了还债减少消费，经济停滞，工作机会消失，可能更加重了还债负担；</li><li>6.长期通缩，居民财富缩水，企业资产负债表恶化，银行不良贷款率上升及政府的债台高筑</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>时区细节问题</title>
    <link href="/2024/10/15/%E6%97%B6%E5%8C%BA%E7%BB%86%E8%8A%82%E9%97%AE%E9%A2%98/"/>
    <url>/2024/10/15/%E6%97%B6%E5%8C%BA%E7%BB%86%E8%8A%82%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="时区的常见划分"><a href="#时区的常见划分" class="headerlink" title="时区的常见划分"></a>时区的常见划分</h1><p>以格林尼治天文台旧址为零时区，东西各分12个时区，每个时区横跨经度15度；其中UTC+12和UTC-12是表示一个时区；UTC+12和UTC-12经度范围是从东经172.5度至西经172.5度，中线为180度经线，总共24个失去；</p><p>时区偏移量UTC offset，基本参照24时区来计算；<br>但是实际运用中通过时区偏移量划分时区时，还存在偏移半个时区或偏移四分之一时区的情况。</p><h1 id="特殊偏移的地区或城市："><a href="#特殊偏移的地区或城市：" class="headerlink" title="特殊偏移的地区或城市："></a>特殊偏移的地区或城市：</h1><p>UTC-9:30 French Polynesia Atuona 法属波利尼西亚 阿图奥纳</p><div><img src="https://img.xfiled.one/blog/Polynesia%20Atuona.svg" width="200"> <img src="https://img.xfiled.one/blog/Canada.svg" width="200"></div>UTC-2:30 St. John's 圣约翰 Newfoundland and Labrador 紐芬蘭與拉布拉多省 Canada 加拿大<p>UTC+3:30 Isfahan, Karaj, Mashhad 马什哈德, Qom, Shiraz, Tabriz, Tehran 德黑兰 伊朗</p><div><img src="https://img.xfiled.one/blog/Iran.svg" width="200"> <img src="https://img.xfiled.one/blog/Afghanistan.svg" width="200"></div>UTC+4:30 Kabul Kandahar Mazari Sharif, Afghanistan 阿富汗UTC+5:30 India Ahmedabad Bengaluru Chennai Hyderabad Kanpur Kolkata Mumbai New Delhi Pune Surat 印度Sri Lanka Colombo Moratuwa 斯里兰卡UTC+5:45 Nepal Biratnagar Kathmandu Pokhara 尼泊尔<div><img src="https://img.xfiled.one/blog/India%20Nepal%20Sri%20Lanka.svg" width="200"> <img src="https://img.xfiled.one/blog/Myanmar.svg" width="200"></div>UTC+6:30 Cocos (Keeling) Islands, Australian external territory Naypyidaw Yangon, Myanmar 缅甸<p>UTC+8:45 Australia 澳大利亚<br>UTC+9:30 Australia Darwin Northern Territory 澳大利亚<br>UTC+10:30 Australia Adelaide Adelaide Hills South Australia 澳大利亚</p><div><img src="https://img.xfiled.one/blog/Australia.svg" width="200"> <img src="https://img.xfiled.one/blog/Newzealand.svg" width="200"></div><h1 id="特殊扩展位移时区"><a href="#特殊扩展位移时区" class="headerlink" title="特殊扩展位移时区"></a>特殊扩展位移时区</h1><p>UTC+13 Auckland Wellington Samoa Apia Tokelau Tonga Nuku’alofa New Zealand 新西兰<br>UTC+14 Tabwakea Village, Kiribati 基里巴斯</p><div><img src="https://img.xfiled.one/blog/Kiribati.svg" width="200"></div><h1 id="特殊地点"><a href="#特殊地点" class="headerlink" title="特殊地点"></a>特殊地点</h1><p>Itascatown pre-WW2 二战前的伊塔斯卡镇（已被日本炸毁），位于豪兰岛，属于美国海外小岛屿；<br>Millersville - pre-WW2 settlement 二战前定居点</p><p>引用：The settlement Itascatown, near the beach on the island’s western side, was a line of no more than half a dozen small wood-frame structures and tents named after the U.S. Coast Guard vessel that brought them and made regular cruises between the islands during that era.</p><p>参考资料：<a href="https://dlab.epfl.ch/wikispeedia/wpcd/wp/h/Howland_Island.htm">https://dlab.epfl.ch/wikispeedia/wpcd/wp/h/Howland_Island.htm</a></p><h1 id="城市重名问题"><a href="#城市重名问题" class="headerlink" title="城市重名问题"></a>城市重名问题</h1><p>León<br>St. John’s</p><h1 id="夏令时DST的由来"><a href="#夏令时DST的由来" class="headerlink" title="夏令时DST的由来"></a>夏令时DST的由来</h1><p>又称夏时制，日光时间，日光节约时间，是一种在夏季月份牺牲正常的日出时间，而将时间调快的做法。夏季挑快1小时；</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Date对象</title>
    <link href="/2024/10/14/Date%E5%AF%B9%E8%B1%A1/"/>
    <url>/2024/10/14/Date%E5%AF%B9%E8%B1%A1/</url>
    
    <content type="html"><![CDATA[<p>每个网页和新闻都离不开时间，但是当人们在网络上阅读消息时往往对时间概念是模糊的；</p><p>需要注意，不管你如何实例化一个 Date 对象，js在本地存储时，都会将它转换成本地时区。js 不会帮你存储实例化该日期时的时区信息。</p><p>It’s important to keep in mind that the date and time is stored in the local time zone, and that the basic methods to fetch the date and time or its components all work in the local time zone as well.</p><p>new Date(‘June 15, 2019 23:15:30 GMT+10:00’)；</p><p>&#x2F;&#x2F; 东10区的时间，实例化成功后，日期被转换成了本地时区<br>&#x2F;&#x2F; Sat Jun 15 2019 21:15:30 GMT+0800 (中国标准时间)</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>前端开发回顾</title>
    <link href="/2024/10/12/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%9B%9E%E9%A1%BE/"/>
    <url>/2024/10/12/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%9B%9E%E9%A1%BE/</url>
    
    <content type="html"><![CDATA[<p>Webpack 通过将模块代码放到一个函数内执行，利用函数作用域解决了模块之间变量污染的问题；<br>并且为了不影响全局，整个运行过程是在一个立即执行函数内完成。</p><p>Vite比Webpack启动快的原因是，不需要编译直接启动；Webpack是基于nodejs构建，Vite是基于esbuild进行预构建依赖，esbuild是采用Go语言编写。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Redis回顾</title>
    <link href="/2024/10/11/Redis%E5%9B%9E%E9%A1%BE/"/>
    <url>/2024/10/11/Redis%E5%9B%9E%E9%A1%BE/</url>
    
    <content type="html"><![CDATA[<p>Redis (Remote Dictionary Service)</p><ol><li><p>Redis缓存雪崩<br>过期时间额外增加一些随机时间，尽量是几分钟<br>加互斥锁<br>在0点前提前加载Redis缓冲</p></li><li><p>Redis缓存击穿</p></li><li><p>Redis缓存穿透<br>一直查询id为-1的数据</p></li><li><p>业务可靠性处理</p></li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Java回顾</title>
    <link href="/2024/10/10/Java%E5%9B%9E%E9%A1%BE/"/>
    <url>/2024/10/10/Java%E5%9B%9E%E9%A1%BE/</url>
    
    <content type="html"><![CDATA[<p>Keywords:48<br>abstract 抽象类,boolean,break,byte 有符号整数-128~127,case,<br>catch,char ‘A’,class,continue,default,do,double 双精度浮点类型的变量,<br>else,enum,extends 类或接口继承,final 定义后不能被修改,finally,float 单精度浮点数,for,if,implements 用于实现接口,import,instanceof,int,interface,long,<br>native 用于声明本地方法,new,null,package,private,protected,public,return,<br>short 用于表示短整数，占用 2 个字节（16 位）的内存空间,static,strictfp 少见,<br>super,switch,<br>synchronized ***用于指定多线程代码中的同步方法、变量或者代码块,<br>this,throw,throws,transient,try,void,<br>volatile 保证不同线程对它修饰的变量进行操作时的可见性,<br>while</p><p>Reserved word:2<br>goto, goto 在 C语言中叫做‘无限跳转’语句<br>const, const 在 C语言中是声明常量的关键字</p><p>基础数据类型:8种，延升概念：常量缓存池<br>boolean - Boolean（对应包装类）<br>char - Character<br>byte - Byte<br>short - Short<br>int - Integer<br>long - Long<br>float - Float<br>double - Double</p><p>引用数据类型:3种<br>数组，接口，类</p><p>Garbage Collection，缩写为GC</p><p>Synchronized vs ReentrantLock Optimal Locking Choice</p><p>线程安全（Thread Safety）和线程不安全（Thread Unsafe）</p><p>本地锁 和 分布式锁 Local Lock vs Distributed Lock<br>Synchronized, Re-entrant Lock and Redis,Zookeeper<br><a href="https://www.lenshood.dev/2020/02/04/redis-distributed-lock/">https://www.lenshood.dev/2020/02/04/redis-distributed-lock/</a></p><p>JDK1.7 JDK1.8<br>在JDK1.7中，由”数组+链表“组成，数组是HashMap的主体，链表则是主要为了解决哈希冲突而存在的。</p><p>Hashmap 的长度为2的幂次方 Power of 2</p><p>链表超过8且数组长度超过64才会转为红黑树；RTB<br><a href="https://crossoverjie.top/JCSprout/#/collections/HashMap">https://crossoverjie.top/JCSprout/#/collections/HashMap</a><br><a href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html">https://www.cs.usfca.edu/~galles/visualization/RedBlack.html</a><br><a href="https://crossoverjie.top/2018/07/23/java-senior/ConcurrentHashMap/#Base-1-8">https://crossoverjie.top/2018/07/23/java-senior/ConcurrentHashMap/#Base-1-8</a></p><p>ConcurrentHashMap 应运而生<br>HashSet 是基于 HashMap 实现的，底层采用 HashMap 来保存元素</p><p>volatile 可以保证可见性，但不保证原子性，禁止指令重排序；</p><p>Atomicity(ˌadəˈmisədē), Visibility, Ordering<br>原子性（Atomicity），可见性，有序性是并发的三大特征，所谓原子性，就是一个操作要么全部执行，要么都不执行。</p><p>Synchronized<br>基于CAS实现的原子类，CAS 的全称是Compare-And-Swap，底层是lock cmpxchg指令<br>Reentrant Lock, 锁机制<br>参考资料：<a href="https://blog.csdn.net/feinifi/article/details/94174492">https://blog.csdn.net/feinifi/article/details/94174492</a></p><p>Synchronized, ReentrantLock 一般划为悲观锁；CAS 为乐观锁，可以避免死锁；</p><p>什么是CAS，V要更新的变量var，E预期值expected，N新值new；<br>JDK 是在 1.5 版本后才引入 CAS 操作<br><a href="https://github.com/CoderLeixiaoshuai/java-eight-part/blob/master/docs/java/juc/%E9%9D%A2%E8%AF%95%E5%BF%85%E9%97%AE%E7%9A%84CAS%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BC%9A%E4%BA%86%E5%90%97.md">https://github.com/CoderLeixiaoshuai/java-eight-part/blob/master/docs/java/juc/%E9%9D%A2%E8%AF%95%E5%BF%85%E9%97%AE%E7%9A%84CAS%E5%8E%9F%E7%90%86%E4%BD%A0%E4%BC%9A%E4%BA%86%E5%90%97.md</a></p><p>线程Thread和进程Process的区别：</p><p>Process<br>进程是应用程序的一次运行活动；从操作系统核心角度来说，进程是操作系统分配和调度系统内存资源、cpu时间片等资源的基本单位，为正在运行的应用程序提供运行环境。<br>进程就是应用程序在内存中分配的空间，也就是正在运行的程序，各个进程之间互不干扰。同时进程保存着程序每一个时刻运行的状态。</p><p>Thread<br>线程是程序内部有并发性的顺序代码流。是cpu调度资源的最小单元。</p><p>进程是系统资源分配和调度的基本单位，它能并发执行较高系统资源的利用率。<br>线程是比进程更小的能独立运行的基本单位。</p><p>ThreadLocal 是干嘛的？</p><p><a href="https://zhoukekestar.github.io/notes/2018/02/09/process-thread.html">https://zhoukekestar.github.io/notes/2018/02/09/process-thread.html</a></p><p>Java OOP:封装(Encapsulation),继承(Inheritance),多态(Polymorphism); 抽象(Abstraction)</p><p>Interface vs Abstract class</p><img src="https://img.xfiled.one/blog/java2.png" width="400px"><p>implements 可以扩展多个interface, extends 只能继承一个类；<br>interface 需要static或default方法；<br>interface中的基本数据类型为public static final，且需要给初始值；</p><p>Overriding vs Overloading<br>Overloading: 在同一个类中，有两个或多个具有相同方法名和不同的参数的方法，称作重载。<br>Overriding: 在不同类中（指父类和子类）中，两个具有相同方法名和相同参数的方法，称作重写。</p><p>LinkedList 和 ArrayList<br>ArrayList 基于数组，LinkedList 基于链表；</p><p>泛型 Generics<br>泛型有三种使用方式，分别为：泛型类、泛型接口、泛型方法<br>&#x2F;&#x2F;此处T可以随便写为任意标识，常见的如T、E、K、V等形式的参数常用于表示泛型<br><a href="https://liaoxuefeng.com/books/java/generics/what-is-generics/index.html">https://liaoxuefeng.com/books/java/generics/what-is-generics/index.html</a></p><p>泛型擦除 Generic Erasure<br>在编译阶段使用泛型，运行阶段取消泛型，即擦除。<br>When compiling use generics,but when running time cancel it.</p><p>JMM Java Memory Model</p><p>锁升级的过程：无锁-&gt;偏向锁-&gt;自旋锁-&gt;重量级锁</p><p>多线程如何使用：<br>1、继承Thread类，重写run()方法<br>2、实现Runnable接口，重写run()<br>3、实现 Callable 接口<br>4、使用线程池创建</p><p>浅拷贝<br>Just copy a pointer to an object，并不是真的拷贝，只是复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块内存。<br>深拷贝会另外创造一个一模一样的对象，新对象跟原对象不共享内存，修改新对象不会改到原对象。</p><p>Kafka<br>Broker 集群 Broker Cluster</p><p>Kafka 性能高原因：<br>利用了 PageCache 缓存，内存中开辟一块区域写入磁盘缓冲，直接写内存；<br>磁盘顺序写，批量写磁盘，(log.flush.interval.messages​,log.flush.interval.ms)<br>批量压缩传输 Kafka Client to Kafka Server compression transmission(gzip)<br>pull 拉模式，sendfile系统调用<br>多 partition 分散存储</p><p>Kafka 的应用场景：<br>日志聚合：可收集各种服务的日志写入kafka的消息队列进行存储<br>消息系统：广泛用于消息中间件<br>系统解耦System decoupling：在重要操作完成后，发送消息，由别的服务系统来完成其他操作<br>流量削峰：一般用于秒杀或抢购活动中，来缓冲网站短时间内高流量带来的压力<br>异步处理Asynchronous Processing：通过异步处理机制，可以把一个消息放入队列中，但不立即处理它，在需要的时候再进行处理</p><p>MMAP<br>简称mmap，简单描述其作用就是：将磁盘文件映射到内存, 用户通过修改内存就能修改磁盘文件。</p><p><a href="https://github.com/CoderLeixiaoshuai/java-eight-part/blob/master/docs/mq/%E5%88%A8%E6%A0%B9%E9%97%AE%E5%BA%95%EF%BC%8Ckafka%E5%88%B0%E5%BA%95%E4%BC%9A%E4%B8%8D%E4%BC%9A%E4%B8%A2%E6%B6%88%E6%81%AF.md">https://github.com/CoderLeixiaoshuai/java-eight-part/blob/master/docs/mq/%E5%88%A8%E6%A0%B9%E9%97%AE%E5%BA%95%EF%BC%8Ckafka%E5%88%B0%E5%BA%95%E4%BC%9A%E4%B8%8D%E4%BC%9A%E4%B8%A2%E6%B6%88%E6%81%AF.md</a></p><p>Spring 和 SpringBoot 区别<br>Spring的设计模式<br>Java 22,17,23，稳定版本22.0.2<br>Error和Exception的区别<br>Exception 是程序正常运行中，可以预料的意外情况，可能并且应该被捕获，进行相应处理。<br>Error 是指在正常情况下，不大可能出现的情况，绝大部分的 Error 都会导致程序（比如 JVM 自身）处于非正常的、不可恢复状态。既然是非正常情况，所以不便于也不需要捕获，常见的比如 OutOfMemoryError 之类，都是 Error 的子类。</p><p>JVM<br>1、程序计数器<br>2、Java 虚拟机栈<br>3、本地方法栈<br>4、堆<br>5、方法区<br><a href="https://doocs.github.io/jvm/01-jvm-memory-structure.html">https://doocs.github.io/jvm/01-jvm-memory-structure.html</a></p><p>JDK<br><a href="https://en.wikipedia.org/wiki/Java_version_history">https://en.wikipedia.org/wiki/Java_version_history</a></p><p>Maven<br>exclusion 去除某一个依赖下的特定子依赖<br><exclusion><br>  <groupId>org.slf4j</groupId><br>  <artifactId>slf4j-log4j12</artifactId><br></exclusion></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>JS库开发流程</title>
    <link href="/2024/10/10/JS%E5%BA%93%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/"/>
    <url>/2024/10/10/JS%E5%BA%93%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<p>想要真正实现一个库，需要完成从想法到目标，从目标到设计，从设计到编码的流程；</p><div style="text-align:left;">  <div style="display:block;height:201px;"><img src="https://img.xfiled.one/blog/process1.drawio.svg" align="left" height="201"/></div>  <div style="display:block;font-size:14px;">JS库开发流程</div></div>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
